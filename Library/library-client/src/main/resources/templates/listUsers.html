<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- css -->
    <link rel="stylesheet" type="text/css" media="all" href="../static/css/styles.css" th:href="@{/css/styles.css}"/>
    <link rel="stylesheet" type="text/css" media="all" href="../static/css/form-styles.css" th:href="@{/css/form-styles.css}"/>

    <!-- Title -->
    <title>Users - Library Client</title>
</head>
<body>

<!-- Header -->
<nav th:replace="~{fragments/header::header}">Header</nav>

<!-- Body Container -->
<div class="body-container">
    <h2>User Management</h2>

    <!-- Top Button Toolbar -->
    <div class="button-toolbar button-toolbar-top">
        <a class="button button-success" href="upsertUser.html" th:href="@{/users/create}">+ New User</a>
    </div>

    <div th:switch="${users}">
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>Username</th>
                <th>Email</th>
                <th>First Name</th>
                <th>Middle Name</th>
                <th>Last Name</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <tr th:if="${users == null || users.size() == 0}">
                <td colspan="8" class="text-center">
                    <p style="padding: 2rem; color: var(--text-light);">No users found.</p>
                </td>
            </tr>
            <tr th:each="user : ${users}">
                <td th:text="${user.id}"/>
                <td th:text="${user.userName}"/>
                <td th:text="${user.email}"/>
                <td th:text="${user.firstName}"/>
                <td th:text="${user.middleName}"/>
                <td th:text="${user.lastName}"/>
                <td th:text="${user.status}"/>
                <td>
                    <a class="button action-button" th:href="@{/users/update/{id}(id=${user.id})}">Edit</a>
                    <a class="button action-button button-danger" th:href="@{/users/delete/{id}(id=${user.id})}">Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

<!-- Footer -->
<footer class="footer">
    <div th:insert="~{fragments/footer::footer}"></div>
</footer>

</body>
</html>
